{
  "version": 0.0,
  "Resources": [
    {
      "myLambdaFunction": {
        "Type": "AWS::Lambda::Function",
        "Properties": {
          "Name": "myLambdaFunction",
          "Alias": "live"
        }
      }
    }
  ],
  "Hooks": {
    "BeforeAllowTraffic": [
      {
        "location": "myapp/scripts/setupenvironment.sh",
        "timeout": 300,
        "runas": "ec2-user"
      }
    ],
    "AfterAllowTraffic": [
      {
        "location": "myapp/scripts/switchenvironment.sh",
        "timeout": 300,
        "runas": "ec2-user"
      }
    ]
  }
}
